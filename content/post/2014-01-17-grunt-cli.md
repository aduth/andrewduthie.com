---
title: Running Grunt tasks without grunt-cli
date: 2014-01-17 00:00:00 -5
description: Grunt is a fantastic task runner for JavaScript, but it's commonly required to install the grunt-cli global module to run tasks.
slug: running-grunt-tasks-without-grunt-cli
---

[Grunt](http://gruntjs.com/) is a JavaScript task runner that helps automate common development tasks such as minifying and testing code. Traditionally, using Grunt is a two-step process. First, you install the Grunt's command-line interface (GLI) globally using npm (i.e. `npm install -g grunt-cli`). Next, in any project where Grunt is to be used, you must locally install Grunt and any Grunt plugins you wish to include. The command-line interface is installed separately so as to allow multiple versions of Grunt to be installed on the same machine. In most cases, this installation process is not problematic, since your development team is likely to be using Grunt between multiple projects and installing a global module is a non-issue. That said, there are cases in which it may be best to run tasks without the global module.

Take, for instance, the [`scripts` feature](https://npmjs.org/doc/misc/npm-scripts.html) of npm. Often overlooked, the `scripts` section of a `package.json` allows a developer to define command-line scripts to be run via predefined keywords. For example, you could trigger a Grunt `test` task with the following configuration, to be called using `npm test`.

```json
{
  "name": "my-package",
  "version": "1.0.0",
  "scripts": {
    "test": "grunt test"
  }
}
```

While in your own environment, the difference between `npm test` and `grunt test` amounts to only a few characters, using npm scripts provides a common interface that other users or systems can make use of. This is where a hard dependency on `grunt-cli` becomes troublesame, as in the example above, running `npm test` will fail if the `grunt-cli` package is not installed. This may occur in environments such as:

1. Other developers who choose not to use Grunt
2. Systems that may not have Grunt installed (e.g. continuous integration services)

In my projects, I make extensive use of [Travis CI](https://travis-ci.org/) to run unit tests against GitHub commits. Up until recently, I've used the following configuration for my `.travis.yml` files:

```yml
language: node_js
node_js:
  - "0.10"
before_script:
  - npm install -g grunt-cli
```

By including the `before_script` step of installing the `grunt-cli` module, Travis CI will need to download and install the package on every build. Recently, however, I've discovered that it's not difficult to run Grunt tasks directly without installing the global module. In place of `grunt test`, you can just as easily invoke Grunt's internal CLI through Node directly. See below:

```bash
node -e "require('grunt').tasks('test');"
```

By replacing `grunt test` with the above in the `scripts` section of your `package.json`, your tasks can be run with or without Grunt's global module installed. With this in place, we can easily remove the `before_script` from our `.travis.yml` or other continuous integration configurations.