// Configuration
@import 'base/_variables.less';
@import 'base/_typography.less';

// Vendor
@import 'vendor/_prefixer.less';
@import 'vendor/_normalize.less';
@import 'vendor/_highlight.less';

// Visual
@import 'modules/_elements.less';
@import' modules/_helpers.less';

// Layouts
@import 'layouts/_page.less';

// Partials
@import 'partials/_header.less';

.blog-post {
  position: relative;
  margin-top: 1em;
  padding-bottom: 2em;
  font-size: 1.2em;
  clear: both;

  &:after {
    content: '';
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAHCAYAAADebrddAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAEBJREFUKFNjYMAO4nCIYwjbAEWMgRhE4wUgRflQFSAaqwYloIQL1EROqGIQDdIMEgfJYwCiTEbWRbSbYZqwhgYAnxgF8dtWeHAAAAAASUVORK5CYII=) repeat-x;
    display: block;
    height: 7px;
    width: 33px;
    left: 50%;
    margin-top: 1em;
    margin-left: -17px;
    position: absolute;
    text-align: center;
    vertical-align: middle;
  }

  &:last-child:after {
    display: none;
  }
}

.blog-title {
  width: 90%;
  margin-left: 5%;

  h1 {
    text-align: center;
    font-size: 2.6em;
    line-height: 1.1;
    margin: 0.2em;

    a {
      border: 0;
      color: @base-font-color;
      .transition(0.2s color);

      &:hover {
        color: @link-color;
      }
    }
  }
}

.blog-body {
  width: 70%;
  margin-top: 2.4em;
  margin-left: 15%;

  img {
    display: block;
    margin: 1em auto;
    box-shadow: 0 0 0.75em rgba(0, 0, 0, 0.4);
  }
}

.blog-meta {
  color: lighten(@base-font-color, 20%);
  text-align: center;
  line-height: 1.4;
  font-size: 0.75em;
  text-transform: uppercase;

  .meta-text {
    position: relative;
    top: -1px;
    padding: 0 0.4em;
    background-color: @base-background;
    z-index: 2;
  }

  .separator {
    border-right: 1px solid desaturate(darken(@base-background, 20%), 15%);
    margin: 0 0.6em;
  }

  &:before {
    content: '';
    z-index: 1;
    display: block;
    position: relative;
    top: 0.7em;
    border-top: 2px dotted desaturate(darken(@base-background, 20%), 15%);
  }
}

#disqus_thread {
  width: 90%;
  margin-left: 5%;
}

.post-header {
  padding: 0.4em;

  .me-links {
    position: static;
    float: right;

    a:before {
      line-height: 1;
    }
  }
}

.return-home {
  float: left;

  a, a:hover {
    color: mix(@header-background, @base-background, 25%);
    border: none;
    line-height: 1.6em;
  }
}

.headshot-mini {
  display: inline-block;
  width: 1.6em;
  height: 1.6em;
  background: url('../img/andrew.png') no-repeat left center;
  background-size: 1.6em 1.6em;
  border-radius: 0.8em;
  border: 2px solid #3A4E59;
  vertical-align: bottom;
}

@media screen and (max-width: @break-medium) {
  // Layouts
  @import 'layouts/_page@850.less';

  // Partials
  @import 'partials/_header@850.less';

  @import '_main@850.less';
}

@media screen and (min-width: @break-small) and (max-width: @break-medium) {
  // Partials
  @import 'partials/_header@600-850.less';
}

@media screen and (max-width: @break-small) {
  // Vendor
  @import 'vendor/_highlight@600.less';

  // Visual
  @import 'modules/_elements@600.less';

  // Layouts
  @import 'layouts/_page@600.less';

  // Partials
  @import 'partials/_header@600.less';

  @import '_main@600.less';
}